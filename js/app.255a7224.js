(function(){"use strict";var e={5059:function(e,s,t){var r=t(5130),o=t(6768);function a(e,s){const t=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(t)}var n=t(1241);const i={},c=(0,n.A)(i,[["render",a]]);var u=c,l=t(1387);const d=e=>((0,o.Qi)("data-v-652c0718"),e=e(),(0,o.jt)(),e),p={id:"bg-access"},h=d((()=>(0,o.Lk)("div",{id:"left-banner"},null,-1))),m={id:"form-access"},f={id:"form-access-header"},v=d((()=>(0,o.Lk)("h1",null,"ANIPP",-1))),w={key:0},g={key:1},y={id:"form-access-inputs"};function P(e,s,t,r,a,n){const i=(0,o.g2)("Input"),c=(0,o.g2)("Button");return(0,o.uX)(),(0,o.CE)("section",p,[h,(0,o.Lk)("article",m,[(0,o.Lk)("section",f,[v,a.recoverPasswordView?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("h2",w,"Conecte-se ao sistema")),a.recoverPasswordView?((0,o.uX)(),(0,o.CE)("h2",g,"Recupere sua senha")):(0,o.Q3)("",!0)]),(0,o.Lk)("section",y,[(0,o.bF)(i,{label:"Digite seu CPF:",type:"text",placeholder:"00000000000",inputName:"document",onlyNumbers:!0,modelValue:a.loginData.user,"onUpdate:modelValue":s[0]||(s[0]=e=>a.loginData.user=e)},null,8,["modelValue"]),a.recoverPasswordView?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(i,{key:0,label:"Digite sua senha:",type:"password",placeholder:"●●●●●●●●●●●●",inputName:"password",onlyNumbers:!1,modelValue:a.loginData.password,"onUpdate:modelValue":s[1]||(s[1]=e=>a.loginData.password=e),class:"mt-1p5"},null,8,["modelValue"])),a.recoverPasswordView?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(c,{key:1,type:"primary",placeholder:"Conecte-se",class:"mt-3",onButtonPressed:n.login},null,8,["onButtonPressed"])),a.recoverPasswordView?((0,o.uX)(),(0,o.Wv)(c,{key:2,type:"primary",placeholder:"Solicitar recuperação",class:"mt-3",onButtonPressed:n.recoverPassword},null,8,["onButtonPressed"])):(0,o.Q3)("",!0),a.recoverPasswordView?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(c,{key:3,typer:"tertiary",placeholder:"Esqueceu sua senha? Clique aqui!",class:"mt-1",onButtonPressed:s[2]||(s[2]=e=>a.recoverPasswordView=!0)})),a.recoverPasswordView?((0,o.uX)(),(0,o.Wv)(c,{key:4,typer:"tertiary",placeholder:"Lembrou a senha? Clique aqui!",class:"mt-1",onButtonPressed:s[3]||(s[3]=e=>a.recoverPasswordView=!1)})):(0,o.Q3)("",!0)])])])}t(4114);var b=t(4232);const k={class:"bg-input"},C=["for"],V=["type","placeholder","name","input"];function A(e,s,t,r,a,n){return(0,o.uX)(),(0,o.CE)("section",k,[(0,o.Lk)("label",{for:t.inputName,class:"label-input"},(0,b.v_)(t.label),9,C),(0,o.Lk)("input",{type:t.type,placeholder:t.placeholder,name:t.inputName,class:"input",onInput:s[0]||(s[0]=(...e)=>n.emitContent&&n.emitContent(...e)),input:a.modelValue},null,40,V)])}var E={props:{type:{type:String},placeholder:{type:String},inputName:{type:String},label:{type:String},onlyNumbers:{type:Boolean},modelValue:{type:String}},emits:["update:modelValue"],data(){return{modelValue:""}},methods:{emitContent(e){if(this.onlyNumbers){const s=e.target.value.replace(/\D/g,"");e.target.value=s,this.$emit("update:modelValue",s)}else this.$emit("update:modelValue",e.target.value)}}};const O=(0,n.A)(E,[["render",A],["__scopeId","data-v-57f864dc"]]);var L=O;const S={class:"bg-button"};function U(e,s,t,r,a,n){return(0,o.uX)(),(0,o.CE)("section",S,[(0,o.Lk)("button",{onClick:s[0]||(s[0]=s=>e.$emit("buttonPressed")),class:(0,b.C4)(["primary"==t.type?"primary":"secondary"==t.type?"secondary":"tertiary"])},(0,b.v_)(t.placeholder),3)])}var I={props:{type:{type:String},placeholder:{type:String}}};const N=(0,n.A)(I,[["render",U],["__scopeId","data-v-4aa7b1dd"]]);var D=N,_=t(4084),q={data(){return{recoverPasswordView:!1,loginData:{user:"",password:""},request:!1}},created(){const e=localStorage.getItem("UAUTHTKKEY");e&&this.$router.push("/inicio")},methods:{notify(e,s){(0,_.oR)(e,{type:"info"==s?"info":"warning"==s?"warning":"error"==s?"error":"success"==s?"success":"default"})},login(){this.loginData.user.length>0&&this.loginData.password.length>0&&!this.request&&(this.request=!0,this.notify("Validando dados de login!","info"),this.$axios.post("user/login",{user:this.loginData.user,password:this.loginData.password}).then((e=>{this.notify(e.data.message,"success"),localStorage.setItem("UAUTHTKKEY",e.data.data.token),setTimeout((()=>{this.$router.push("/inicio")}),1e3)})).catch((e=>(this.request=!1,this.notify(e.response.data.message,"error")))))},recoverPassword(){this.loginData.user.length>0&&!this.request&&(this.request=!0,this.notify("Validando dados do usuário!","info"),this.$axios.post("user/recover-password",{user:this.loginData.user}).then((e=>(this.request=!1,this.notify(e.data.message,"success")))).catch((e=>(this.request=!1,this.notify(e.response.data.message,"error")))))}},components:{Input:L,Button:D}};const x=(0,n.A)(q,[["render",P],["__scopeId","data-v-652c0718"]]);var T=x;function $(e,s,t,r,a,n){return(0,o.uX)(),(0,o.CE)("div",null," DASHBOARD ")}var X={};const B=(0,n.A)(X,[["render",$]]);var j=B;const Q=e=>((0,o.Qi)("data-v-2fea83bf"),e=e(),(0,o.jt)(),e),R={id:"bg-access"},M={key:0,id:"left-banner"},F={key:1,id:"form-access"},K=Q((()=>(0,o.Lk)("section",{id:"form-access-header"},[(0,o.Lk)("h1",null,"ANIPP"),(0,o.Lk)("h2",null,"Recupere sua senha")],-1))),W={id:"form-access-inputs"},H={id:"confirmations-secure-password",class:"mt-1p5"};function Y(e,s,t,r,a,n){const i=(0,o.g2)("Input"),c=(0,o.g2)("Button");return(0,o.uX)(),(0,o.CE)("section",R,[a.viewUI?((0,o.uX)(),(0,o.CE)("div",M)):(0,o.Q3)("",!0),a.viewUI?((0,o.uX)(),(0,o.CE)("article",F,[K,(0,o.Lk)("section",W,[(0,o.bF)(i,{label:"Digite sua nova senha:",type:"password",placeholder:"●●●●●●●●●●●●",inputName:"document",onlyNumbers:!1,modelValue:a.recoverPassword.password,"onUpdate:modelValue":[s[0]||(s[0]=e=>a.recoverPassword.password=e),n.checkPassword]},null,8,["modelValue","onUpdate:modelValue"]),(0,o.bF)(i,{label:"Repita sua nova senha:",type:"password",placeholder:"●●●●●●●●●●●●",inputName:"confirmPassword",onlyNumbers:!1,modelValue:a.recoverPassword.passwordConfirmation,"onUpdate:modelValue":[s[1]||(s[1]=e=>a.recoverPassword.passwordConfirmation=e),n.checkPassword],class:"mt-1p5"},null,8,["modelValue","onUpdate:modelValue"]),(0,o.Lk)("section",H,[(0,o.Lk)("p",{class:(0,b.C4)(e.samePasswords?"active-confirmation":"non-confirmation")},"As senhas serem iguais",2),(0,o.Lk)("p",{class:(0,b.C4)(e.hasEightCharacters?"active-confirmation":"non-confirmation")},"Ter mais de 8 caracteres",2),(0,o.Lk)("p",{class:(0,b.C4)(e.hasOneUpperCase?"active-confirmation":"non-confirmation")},"Ter uma letra maiúscula",2),(0,o.Lk)("p",{class:(0,b.C4)(e.hasOneNumber?"active-confirmation":"non-confirmation")},"Ter um número",2)]),(0,o.bF)(c,{type:"primary",placeholder:"Definir senha",class:"mt-3",onButtonPressed:n.sendRecoverPassword},null,8,["onButtonPressed"])])])):(0,o.Q3)("",!0)])}t(4603),t(7566),t(8721);var Z={data(){return{recoverPassword:{password:"",passwordConfirmation:"",email:"",token:""},request:!1,viewUI:!1}},created(){const e=localStorage.getItem("UAUTHTKKEY");e&&this.$router.push("/inicio");const s=new URLSearchParams(window.location.search),t=s.get("token"),r=s.get("email");if(this.recoverPassword.token=t,this.recoverPassword.email=r,!t||!r)return this.$router.push("/acessar");this.$axios.get(`user/recover-password/verify-token/${t}`).then((e=>{this.viewUI=!0})).catch((e=>this.$router.push("/acessar")))},methods:{notify(e,s){(0,_.oR)(e,{type:"info"==s?"info":"warning"==s?"warning":"error"==s?"error":"success"==s?"success":"default"})},checkPassword(){this.samePasswords=this.recoverPassword.password.length>0&&this.recoverPassword.password==this.recoverPassword.passwordConfirmation,this.hasEightCharacters=this.recoverPassword.password.length>=8,this.hasOneUpperCase=/[A-Z]/.test(this.recoverPassword.password),this.hasOneNumber=/[0-9]/.test(this.recoverPassword.password)},sendRecoverPassword(){this.samePasswords&&this.hasEightCharacters&&this.hasOneUpperCase&&this.hasOneNumber&&!this.request&&(this.request=!0,this.notify("Definindo nova senha!","info"),this.$axios.post("user/recover-password/set-password",{new_password:this.recoverPassword.password,token:this.recoverPassword.token,email:this.recoverPassword.email}).then((e=>{this.notify(e.data.message,"success"),setTimeout((()=>{this.$router.push("/acessar")}),1e3)})).catch((e=>(this.request=!1,this.notify(e.response.data.message,"error")))))}},components:{Input:L,Button:D}};const z=(0,n.A)(Z,[["render",Y],["__scopeId","data-v-2fea83bf"]]);var G=z;const J=[{path:"/:pathMatch(.*)*",redirect:"/acessar"},{path:"/acessar",name:"Acessar",component:T},{path:"/inicio",name:"Inicio",component:j},{path:"/recuperar-senha",name:"Recuperar Senha",component:G}],ee=(0,l.aE)({history:(0,l.LA)("/"),routes:J});ee.beforeEach(((e,s,t)=>{console.log(e),document.title=`${e.name} - ANIPP`||"ANIPP",t()}));var se=ee,te=t(8355),re=t(6942);te.A.defaults.baseURL="https://api.anipp.org.br/api/";const oe=(0,r.Ef)(u);oe.use(se),oe.use(te.A),oe.config.globalProperties.$axios=te.A,oe.use(re.A,te.A),oe.use(_.Ay,{autoClose:3e3,position:"bottom-right",transition:"bounce",dangerouslyHTMLString:!0}),oe.mount("#app")}},s={};function t(r){var o=s[r];if(void 0!==o)return o.exports;var a=s[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}t.m=e,function(){t.amdO={}}(),function(){var e=[];t.O=function(s,r,o,a){if(!r){var n=1/0;for(l=0;l<e.length;l++){r=e[l][0],o=e[l][1],a=e[l][2];for(var i=!0,c=0;c<r.length;c++)(!1&a||n>=a)&&Object.keys(t.O).every((function(e){return t.O[e](r[c])}))?r.splice(c--,1):(i=!1,a<n&&(n=a));if(i){e.splice(l--,1);var u=o();void 0!==u&&(s=u)}}return s}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[r,o,a]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var r in s)t.o(s,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:s[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(s){return 0===e[s]};var s=function(s,r){var o,a,n=r[0],i=r[1],c=r[2],u=0;if(n.some((function(s){return 0!==e[s]}))){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(c)var l=c(t)}for(s&&s(r);u<n.length;u++)a=n[u],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(l)},r=self["webpackChunkanipp_front_end"]=self["webpackChunkanipp_front_end"]||[];r.forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r))}();var r=t.O(void 0,[504],(function(){return t(5059)}));r=t.O(r)})();
//# sourceMappingURL=app.255a7224.js.map